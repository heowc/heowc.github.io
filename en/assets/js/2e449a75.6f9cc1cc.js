"use strict";(self.webpackChunkdocusaurus_blog=self.webpackChunkdocusaurus_blog||[]).push([[6726],{54087:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>g,frontMatter:()=>s,metadata:()=>i,toc:()=>a});var r=t(74848),o=t(28453);const s={title:"Spring Boot - Async",slug:"2018/02/10/spring-boot-async",date:new Date("2018-02-10T15:35:41.000Z"),category:["spring"],tags:["spring","spring-boot","async"]},c=void 0,i={permalink:"/en/2018/02/10/spring-boot-async",source:"@site/blog/spring-boot-async.md",title:"Spring Boot - Async",description:"\ube44\ub3d9\uae30 \ud1b5\uc2e0 \ube44\ub3d9\uae30 \uc804\uc1a1\ubc29\uc2dd)",date:"2018-02-10T15:35:41.000Z",tags:[{inline:!0,label:"spring",permalink:"/en/tags/spring"},{inline:!0,label:"spring-boot",permalink:"/en/tags/spring-boot"},{inline:!0,label:"async",permalink:"/en/tags/async"}],readingTime:2.285,hasTruncateMarker:!0,authors:[],frontMatter:{title:"Spring Boot - Async",slug:"2018/02/10/spring-boot-async",date:"2018-02-10T15:35:41.000Z",category:["spring"],tags:["spring","spring-boot","async"]},unlisted:!1,prevItem:{title:"Spring Boot - Async \uc2ec\ud654",permalink:"/en/2018/02/13/spring-boot-async-advanced"},nextItem:{title:"Thread Pool \uc774\ud574\ud558\uae30",permalink:"/en/2018/02/08/thread-pool"}},l={authorsImageUrls:[]},a=[{value:"\uc5b8\uc81c \uc0ac\uc6a9\ud558\uba74 \uc88b\uc744\uae4c?",id:"\uc5b8\uc81c-\uc0ac\uc6a9\ud558\uba74-\uc88b\uc744\uae4c",level:3},{value:"Dependency",id:"dependency",level:3},{value:"Config",id:"config",level:3},{value:"Service &amp; Controller",id:"service--controller",level:3},{value:"Service",id:"service",level:4},{value:"Controller",id:"controller",level:4},{value:"\uacb0\uacfc",id:"\uacb0\uacfc",level:4},{value:"\ucc38\uace0",id:"\ucc38\uace0",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\ube44\ub3d9\uae30 \ud1b5\uc2e0"}),": \uc790\ub8cc\ub97c \uc77c\uc815\ud55c \ud06c\uae30\ub85c \uc815\ud558\uc5ec \uc21c\uc11c\ub300\ub85c \uc804\uc1a1\ud558\ub294 \uc790\ub8cc\uc758 \uc804\uc1a1\ubc29\uc2dd(\ucc38\uace0 : ",(0,r.jsx)(n.a,{href:"https://ko.wikipedia.org/wiki/%EB%B9%84%EB%8F%99%EA%B8%B0_%EC%A0%84%EC%86%A1_%EB%B0%A9%EC%8B%9D",children:"\ube44\ub3d9\uae30 \uc804\uc1a1\ubc29\uc2dd"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.mermaid,{value:"    graph LR\n        subgraph Sync\n        C1[Client 1]--\x3e|Request|T1[Thread 1]\n        T1[Thread 1]--\x3e|Response|C1[Client 1]\n        end\n        subgraph Async\n        C2[Client 2]--\x3e|Request|T2[Thread 2]\n        T2[Thread 2]--\x3e|Response|C2[Client 2]\n        T2[Thread2]-.->|<b>Async</b>|T3[Thread3]\n        end"}),"\n",(0,r.jsx)(n.h3,{id:"\uc5b8\uc81c-\uc0ac\uc6a9\ud558\uba74-\uc88b\uc744\uae4c",children:"\uc5b8\uc81c \uc0ac\uc6a9\ud558\uba74 \uc88b\uc744\uae4c?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\uc694\uccad\uc774 \uae34 \uacbd\uc6b0"}),"\n",(0,r.jsx)(n.li,{children:"\ub85c\uadf8 \ucc98\ub9ac"}),"\n",(0,r.jsx)(n.li,{children:"\ud478\uc2dc \ucc98\ub9ac"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"dependency",children:"Dependency"}),"\n",(0,r.jsxs)(n.p,{children:["Spring 3.1 \uc774\ud6c4\uc5d0 \uc0ac\uc6a9 \uac00\ub2a5 \ud558\ub2e4. (",(0,r.jsx)(n.code,{children:"spring-context"}),"\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\ub2e4.)"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-groovy",children:"dependencies {\n\tcompile('org.springframework.boot:spring-boot-starter-web')\n\ttestCompile('org.springframework.boot:spring-boot-starter-test')\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"config",children:"Config"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"@EnableAsync"}),"\ub9cc \ucd94\uac00\ud558\uba74 \uae30\ubcf8\uc801\uc778 \uc124\uc815\uc740 \ub05d\uc774\ub2e4.\n\ud558\uc9c0\ub9cc, \uae30\ubcf8\uac12\uc778 ",(0,r.jsx)(n.code,{children:"SimpleAsyncTaskExecutor"})," \ud074\ub798\uc2a4\ub294 \ub9e4\ubc88 Thread\ub97c \ub9cc\ub4e4\uc5b4\ub0b4\ub294 \uac1d\uccb4\uc774\uae30 \ub54c\ubb38\uc5d0 ",(0,r.jsx)(n.strong,{children:"Thread Pool\uc774 \uc544\ub2c8\ub2e4."})," Thread Pool\uc744 \uc124\uc815\ud574\uae30 \uc704\ud574 ",(0,r.jsx)(n.code,{children:"AsyncConfigurerSupport"}),"\ub97c \uc0c1\uc18d\ubc1b\uc544 \uc7ac\uad6c\ud604\ud558\uc790."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Configuration\n@EnableAsync\npublic class AsyncConfig extends AsyncConfigurerSupport {\n\n\t@Override\n\tpublic Executor getAsyncExecutor() {\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n\t\texecutor.setCorePoolSize(2);\n\t\texecutor.setMaxPoolSize(10);\n\t\texecutor.setQueueCapacity(500);\n\t\texecutor.setThreadNamePrefix("heowc-async-");\n\t\texecutor.initialize();\n\t\treturn executor;\n\t}\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"service--controller",children:"Service & Controller"}),"\n",(0,r.jsx)(n.h4,{id:"service",children:"Service"}),"\n",(0,r.jsxs)(n.p,{children:["\ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \ud558\uae30 \uc704\ud55c \uba54\uc18c\ub4dc\uc5d0 ",(0,r.jsx)(n.code,{children:"@Async"}),"\ub97c \ucd94\uac00\ud558\uba74 \ub41c\ub2e4. \ub9cc\uc57d ",(0,r.jsx)(n.strong,{children:"callback"}),"\uc774 \ud544\uc694\ud558\ub2e4\uba74, ",(0,r.jsx)(n.code,{children:"Future"})," \ud074\ub798\uc2a4 \ub4f1\uc758 \uac1d\uccb4\ub85c \uac10\uc2f8\uc11c \ubc18\ud658\ud558\uba74 \ub41c\ub2e4."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Service\npublic class BasicServiceImpl implements BasicService {\n\n\tprivate static final Logger logger = Logger.getLogger(BasicServiceImpl.class);\n\t\n\t@Async\n\t@Override\n\tpublic void onAsync() {\n\t\ttry {\n\t\t\tThread.sleep(1000);\n\t\t\tlogger.info("onAsync");\n\t\t} catch (InterruptedException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\n\t@Override\n\tpublic void onSync() {\n\t\ttry {\n\t\t\tThread.sleep(1000);\n\t\t\tlogger.info("onSync");\n\t\t} catch (InterruptedException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"controller",children:"Controller"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Test Case"}),"\ub85c\ub294 \ube44\ub3d9\uae30\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc5d0(?) HTTP \uc694\uccad\uc73c\ub85c \uc774\ub97c \ud655\uc778\ud574\ubcf4\uc790."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@RestController\npublic class BasicController {\n    \n    @Autowired\n\tprivate final BasicService service;\n\n\tprivate static final Logger logger = Logger.getLogger(BasicController.class);\n\t@GetMapping("/async")\n\tpublic String goAsync() {\n\t\tservice.onAsync();\n\t\tString str = "Hello Spring Boot Async!!";\n\t\tlogger.info(str);\n\t\tlogger.info("==================================");\n\t\treturn str;\n\t}\n\t\n\t@GetMapping("/sync")\n\tpublic String goSync() {\n\t\tservice.onSync();\n\t\tString str = "Hello Spring Boot Sync!!";\n\t\tlogger.info(str);\n\t\tlogger.info("==================================");\n\t\treturn str;\n\t}\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"\uacb0\uacfc",children:"\uacb0\uacfc"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"http://localhost:8080/async\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"~ : Hello Spring Boot Async!!\n~ : ==================================\n~ : onAsync\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"http://localhost:8080/sync\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"~ : onSync\n~ : Hello Spring Boot Sync!!\n~ : ==================================\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\ucc38\uace0",children:"\ucc38\uace0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/heowc/SpringBootSample/tree/master/SpringBootAsync",children:"SpringBootSample / SpringBootAsync"})}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var r=t(96540);const o={},s=r.createContext(o);function c(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);