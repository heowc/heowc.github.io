(self.webpackChunkdocusaurus_blog=self.webpackChunkdocusaurus_blog||[]).push([[9042],{19866:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var r=t(87462),a=(t(67294),t(3905)),o=t(93456);const l={title:"Spring Boot - Async",slug:"2018/02/10/spring-boot-async",date:new Date("2018-02-10T15:35:41.000Z"),category:["spring"],tags:["spring","spring-boot","async"]},i=void 0,s={permalink:"/en/2018/02/10/spring-boot-async",source:"@site/blog/spring-boot-async.md",title:"Spring Boot - Async",description:"\ube44\ub3d9\uae30 \ud1b5\uc2e0 \ube44\ub3d9\uae30 \uc804\uc1a1\ubc29\uc2dd)",date:"2018-02-10T15:35:41.000Z",formattedDate:"February 10, 2018",tags:[{label:"spring",permalink:"/en/tags/spring"},{label:"spring-boot",permalink:"/en/tags/spring-boot"},{label:"async",permalink:"/en/tags/async"}],readingTime:2.285,hasTruncateMarker:!0,authors:[],frontMatter:{title:"Spring Boot - Async",slug:"2018/02/10/spring-boot-async",date:"2018-02-10T15:35:41.000Z",category:["spring"],tags:["spring","spring-boot","async"]},prevItem:{title:"Spring Boot - Async \uc2ec\ud654",permalink:"/en/2018/02/13/spring-boot-async-advanced"},nextItem:{title:"Thread Pool \uc774\ud574\ud558\uae30",permalink:"/en/2018/02/08/thread-pool"}},c={authorsImageUrls:[]},p=[{value:"\uc5b8\uc81c \uc0ac\uc6a9\ud558\uba74 \uc88b\uc744\uae4c?",id:"\uc5b8\uc81c-\uc0ac\uc6a9\ud558\uba74-\uc88b\uc744\uae4c",level:3},{value:"Dependency",id:"dependency",level:3},{value:"Config",id:"config",level:3},{value:"Service &amp; Controller",id:"service--controller",level:3},{value:"Service",id:"service",level:4},{value:"Controller",id:"controller",level:4},{value:"\uacb0\uacfc",id:"\uacb0\uacfc",level:4},{value:"\ucc38\uace0",id:"\ucc38\uace0",level:3}],g={toc:p};function u(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"\ube44\ub3d9\uae30 \ud1b5\uc2e0"),": \uc790\ub8cc\ub97c \uc77c\uc815\ud55c \ud06c\uae30\ub85c \uc815\ud558\uc5ec \uc21c\uc11c\ub300\ub85c \uc804\uc1a1\ud558\ub294 \uc790\ub8cc\uc758 \uc804\uc1a1\ubc29\uc2dd(\ucc38\uace0 : ",(0,a.kt)("a",{parentName:"p",href:"https://ko.wikipedia.org/wiki/%EB%B9%84%EB%8F%99%EA%B8%B0_%EC%A0%84%EC%86%A1_%EB%B0%A9%EC%8B%9D"},"\ube44\ub3d9\uae30 \uc804\uc1a1\ubc29\uc2dd"),")")),(0,a.kt)(o.Mermaid,{config:{},chart:"    graph LR\n        subgraph Sync\n        C1[Client 1]--\x3e|Request|T1[Thread 1]\n        T1[Thread 1]--\x3e|Response|C1[Client 1]\n        end\n        subgraph Async\n        C2[Client 2]--\x3e|Request|T2[Thread 2]\n        T2[Thread 2]--\x3e|Response|C2[Client 2]\n        T2[Thread2]-.->|<b>Async</b>|T3[Thread3]\n        end",mdxType:"Mermaid"}),(0,a.kt)("h3",{id:"\uc5b8\uc81c-\uc0ac\uc6a9\ud558\uba74-\uc88b\uc744\uae4c"},"\uc5b8\uc81c \uc0ac\uc6a9\ud558\uba74 \uc88b\uc744\uae4c?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\uc694\uccad\uc774 \uae34 \uacbd\uc6b0"),(0,a.kt)("li",{parentName:"ul"},"\ub85c\uadf8 \ucc98\ub9ac"),(0,a.kt)("li",{parentName:"ul"},"\ud478\uc2dc \ucc98\ub9ac")),(0,a.kt)("h3",{id:"dependency"},"Dependency"),(0,a.kt)("p",null,"Spring 3.1 \uc774\ud6c4\uc5d0 \uc0ac\uc6a9 \uac00\ub2a5 \ud558\ub2e4. (",(0,a.kt)("inlineCode",{parentName:"p"},"spring-context"),"\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\ub2e4.)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-groovy"},"dependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n")),(0,a.kt)("h3",{id:"config"},"Config"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"@EnableAsync"),"\ub9cc \ucd94\uac00\ud558\uba74 \uae30\ubcf8\uc801\uc778 \uc124\uc815\uc740 \ub05d\uc774\ub2e4.\n\ud558\uc9c0\ub9cc, \uae30\ubcf8\uac12\uc778 ",(0,a.kt)("inlineCode",{parentName:"p"},"SimpleAsyncTaskExecutor")," \ud074\ub798\uc2a4\ub294 \ub9e4\ubc88 Thread\ub97c \ub9cc\ub4e4\uc5b4\ub0b4\ub294 \uac1d\uccb4\uc774\uae30 \ub54c\ubb38\uc5d0 ",(0,a.kt)("strong",{parentName:"p"},"Thread Pool\uc774 \uc544\ub2c8\ub2e4.")," Thread Pool\uc744 \uc124\uc815\ud574\uae30 \uc704\ud574 ",(0,a.kt)("inlineCode",{parentName:"p"},"AsyncConfigurerSupport"),"\ub97c \uc0c1\uc18d\ubc1b\uc544 \uc7ac\uad6c\ud604\ud558\uc790."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Configuration\n@EnableAsync\npublic class AsyncConfig extends AsyncConfigurerSupport {\n\n    @Override\n    public Executor getAsyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(10);\n        executor.setQueueCapacity(500);\n        executor.setThreadNamePrefix("heowc-async-");\n        executor.initialize();\n        return executor;\n    }\n}\n')),(0,a.kt)("h3",{id:"service--controller"},"Service & Controller"),(0,a.kt)("h4",{id:"service"},"Service"),(0,a.kt)("p",null,"\ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \ud558\uae30 \uc704\ud55c \uba54\uc18c\ub4dc\uc5d0 ",(0,a.kt)("inlineCode",{parentName:"p"},"@Async"),"\ub97c \ucd94\uac00\ud558\uba74 \ub41c\ub2e4. \ub9cc\uc57d ",(0,a.kt)("strong",{parentName:"p"},"callback"),"\uc774 \ud544\uc694\ud558\ub2e4\uba74, ",(0,a.kt)("inlineCode",{parentName:"p"},"Future")," \ud074\ub798\uc2a4 \ub4f1\uc758 \uac1d\uccb4\ub85c \uac10\uc2f8\uc11c \ubc18\ud658\ud558\uba74 \ub41c\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Service\npublic class BasicServiceImpl implements BasicService {\n\n    private static final Logger logger = Logger.getLogger(BasicServiceImpl.class);\n    \n    @Async\n    @Override\n    public void onAsync() {\n        try {\n            Thread.sleep(1000);\n            logger.info("onAsync");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onSync() {\n        try {\n            Thread.sleep(1000);\n            logger.info("onSync");\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n')),(0,a.kt)("h4",{id:"controller"},"Controller"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Test Case"),"\ub85c\ub294 \ube44\ub3d9\uae30\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc5d0(?) HTTP \uc694\uccad\uc73c\ub85c \uc774\ub97c \ud655\uc778\ud574\ubcf4\uc790."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@RestController\npublic class BasicController {\n    \n    @Autowired\n    private final BasicService service;\n\n    private static final Logger logger = Logger.getLogger(BasicController.class);\n    @GetMapping("/async")\n    public String goAsync() {\n        service.onAsync();\n        String str = "Hello Spring Boot Async!!";\n        logger.info(str);\n        logger.info("==================================");\n        return str;\n    }\n    \n    @GetMapping("/sync")\n    public String goSync() {\n        service.onSync();\n        String str = "Hello Spring Boot Sync!!";\n        logger.info(str);\n        logger.info("==================================");\n        return str;\n    }\n}\n')),(0,a.kt)("h4",{id:"\uacb0\uacfc"},"\uacb0\uacfc"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-http"},"http://localhost:8080/async\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"~ : Hello Spring Boot Async!!\n~ : ==================================\n~ : onAsync\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-http"},"http://localhost:8080/sync\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-text"},"~ : onSync\n~ : Hello Spring Boot Sync!!\n~ : ==================================\n")),(0,a.kt)("h3",{id:"\ucc38\uace0"},"\ucc38\uace0"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/heowc/SpringBootSample/tree/master/SpringBootAsync"},"SpringBootSample / SpringBootAsync"))))}u.isMDXComponent=!0},11748:(e,n,t)=>{var r={"./locale":89234,"./locale.js":89234};function a(e){var n=o(e);return t(n)}function o(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=11748}}]);